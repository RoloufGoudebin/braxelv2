<app-navbar></app-navbar>
<div *ngIf="property; else loading" class="container mt-5 pt-5">
  <div class="pt-5 mt-5">
    <h1 *ngIf="property.TypeDescription">{{property.TypeDescription}}</h1>
    <h2 *ngIf="property.City">{{property.Zip}} {{property.City}}</h2>
    <hr>
    <div class="row">
      <h3 *ngIf="property.StartPrice" class="mr-auto col">{{toStringPrice(property.StartPrice)}}
        {{property.PriceUnitText}}</h3>
      <a class="nav-link" *ngIf="property.VirtualTour">
        <app-modal-nodal [item]="nodalLink"></app-modal-nodal>
      </a>
      <a class="nav-link">
        <app-contact-modal [id]="property.ID"></app-contact-modal>
      </a>
    </div>
    <div class="row">
      <p class="price col"> Hors droits et taxes diverses</p>
    </div>
  </div>


  <mdb-carousel class="carousel slide carousel-fade" [type]="'carousel-thumbnails'" [animation]="'fade'">
      <mdb-carousel-item>
        <img class="d-block w-100 img-fluid rounded" src="{{property.LargePicture}}">
      </mdb-carousel-item>
      <mdb-carousel-item *ngFor="let picture of property.LargePictures | slice: 1;">
        <img class="d-block w-100 img-fluid rounded" src="{{picture}}">
      </mdb-carousel-item>
  </mdb-carousel>

  <div class="container-fluid py-4">
    <div class="row text">
      <div *ngIf="property.MainTypeName" class="col-12 col-md-4"> <b>Type de bien</b> : {{property.MainTypeName}}</div>
      <div *ngIf="property.City" class="col-12 col-md-4"><b>Commune</b> : {{property.City}}</div>
      <div *ngIf="property.SurfaceTotal" class="col-12 col-md-4"><b>Surface habitable</b> : {{property.SurfaceTotal}}m²
      </div>
      <div *ngIf="property.SurfaceGarden" class="col-12 col-md-4"><b>Surface du terrain</b> :
        {{property.SurfaceGarden}}m²</div>
      <div *ngIf="property.EnergyPerformance" class="col-12 col-md-4"><b>Énergie/niveau PEG</b> :
        {{property.EnergyPerformance}} <img src="{{getPEB(property.EnergyPerformance)}}"> </div>
    </div>
  </div>

  <div class="container">
    <ul class="row px-0 mx-0">
      <div class="col-6 col-md card text-center mx-auto">
        <span class="icon-object-ungroup icon"></span>
        <li class="titlecard">Superficie
          <hr> {{property.SurfaceTotal}}
        </li>
      </div>
      <div class="col-6 col-md card text-center mx-1 mx-auto">
        <span class="icon-bed icon"></span>
        <li>Chambres
          <hr> {{property.NumberOfBedRooms}}
        </li>
      </div>
      <div class="col-6 col-md card text-center mx-auto">
        <span class="icon-bath icon"></span>
        <li>Salle(s) de bains
          <hr> {{property.NumberOfBathRooms}}
        </li>
      </div>
      <div class="col-6 col-md card text-center mx-auto">
        <span class="icon-shower icon"></span>
        <li>Salle(s) de douche
          <hr> {{property.NumberOfShowerRooms}}
        </li>
      </div>
      <div class="col-6 col-md card text-center mx-auto">
        <span class="icon-automobile icon"></span>
        <li>Garage(s)
          <hr> {{property.NumberOfGarages}}
        </li>
      </div>
      <div class="col-6 col-md card text-center mx-auto">
        <span class="icon-desktop_windows icon"></span>
        <li>Bureau(x)
          <hr>
          <div *ngIf="property.IsOffice; else elseBlock">1</div>
          <ng-template #elseBlock>0</ng-template>
        </li>
      </div>
    </ul>
  </div>


  <div class="container pb-3">
    <h4>Particularités</h4>
    <div class="row text">
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.KitchenName"><b>Cuisine</b> : {{property.KitchenName}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.WindowGlazing"><b>Vitrage</b> : {{property.WindowGlazing}}
      </div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.OrientationT"><b>Orientation</b> : {{property.OrientationT}}
      </div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.HasLift"><b>Ascensceur</b> : Oui</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.Floor"><b>Étage(s)</b> : {{property.Floor}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.ConstructionYear"><b>Année de construction</b> :
        {{property.ConstructionYear}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.SurfaceTerrace"><b>Terrasse</b> :
        {{property.SurfaceTerrace}}m²</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.ConstructionName"><b>Type de construction</b> :
        {{property.ConstructionName}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.HasGarden"><b>Jardin</b> : Oui
        ({{property.SurfaceGarden}}m²)</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.HeatingName"><b>Type de chauffage</b> :
        {{property.HeatingName}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.MainStyleName"><b>Type de construction</b> :
        {{property.MainStyleName}}</div>
      <div class="col-12 col-md-6 col-lg-4" *ngIf="property.ConditionName"><b>État</b> : {{property.ConditionName}}
      </div>
    </div>
  </div>


  <div class="container pb-5">
    <h4>Description</h4>
    <p class="content text-justify" *ngIf="property.DescriptionA">{{property.DescriptionB}}</p>
  </div>
  <div class="container px-3 ">
    <div *ngIf="lat" class="row">
      <agm-map [latitude]="lat" [longitude]="long" [zoom]="14" [scrollwheel]="false">
        <agm-circle [latitude]="lat" [longitude]="long" [radius]="1100" [fillColor]="'red'">
        </agm-circle>
      </agm-map>
    </div>
  </div>
</div>

<ng-template #loading>
<app-loading #loading></app-loading>
</ng-template>
<app-footer></app-footer>