<app-navbar></app-navbar>
<section id="nos-biens">
  <div class="container-fluid pt-5 mt-5">
    <div class="row">
      <div class="col-3 mt-5 pt-5">
        <div class="container">
          <div class="col-11">
            <div class="row">
              <h2 class="text-center ml-auto col-11 mx-auto">Vous cherchez un bien ?</h2>
            </div>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
              <div class="search-form ml-auto pb-3 col-12">
                <div class="row">
                  <div class="text-search-form col-11 text-left">
                    <h3>Je souhaite :</h3>
                  </div>
                  <div class="col-11 mx-auto">
                    <div class="row">
                      <button type="button" *ngFor="let item of items" (click)="toggleClass(item)"
                        [ngClass]="item.select ? 'select' : 'not-select'" class="btn rounded-pill
                              col mx-2">{{item.name}}</button>
                    </div>
                    <div class="row">
                      <div *ngIf="submitted && !goalSelect">
                        <div class="invalid-feedback d-block ml-2">Veuillez choisir une option</div>
                      </div>
                    </div>
                  </div>
                </div>


                <div class="row">
                  <label class="text-search-form col-11 text-left" for="selected">Type
                    de bien :</label>
                  <div class="col-12">
                    <ng-select bindLabel="selected" [multiple]="true" class="custom" name="selected"
                      formControlName="selected">
                      <ng-option *ngFor="let type of types" [value]="type.id" required>{{type.name}}</ng-option>
                    </ng-select>
                    <div class="row">
                      <div *ngIf="selected.invalid && submitted" class="text-danger">
                        <div *ngIf="selected.errors?.required">
                          <div class="invalid-feedback d-block ml-2">Veuillez choisir une option</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                <div class="row pt-2">
                  <label class="text-search-form col-12 text-left">Code Postal :</label>
                  <div class="col-12">
                    <input class="col-12 mx-auto rounded-pill form-control" formControlName="zip" type="text"
                      name="zip" />
                    <div class="row">
                      <div *ngIf="zip.invalid && submitted" class="text-danger">
                        <div *ngIf="zip.errors?.required">
                          <div class="invalid-feedback d-block ml-2">Veuillez entre une localité</div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="row pt-2">
                  <label class="text-search-form col-11 text-left">Chambres :</label>
                  <app-slider class="col-11 mx-auto" [options]="sliderRooms"></app-slider>
                </div>

                <div class="row pt-2">
                  <label class="text-search-form col-11 text-left">Budget :</label>
                  <app-slider class="col-11 mx-auto" [options]="sliderBudget"></app-slider>
                </div>
                <div class="row pt-3 button-search">
                  <button type="button" class="btn1 btn-outline-primary col-7 mx-auto rounded-pill py-2"
                    (click)="onSubmit()" [disabled]="!registerForm.valid">Voir les
                    résultats</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-8">
        <div class="row pt-5 mt-5">
          <h1 class="col text-center">Nos biens immobiliers</h1>
        </div>
        <app-view-property-list [numberProperty]="numberProperty" [propertyList]="toShow">
        </app-view-property-list>
        <div class="row" *ngIf="toShow">
          <button *ngIf="lowerThan(numberProperty, toShow.length)" type="button"
            class="btn btn-outline-danger col-2 mx-auto text-center" (click)="addProperties()">Voir plus
            de propriétés</button>
        </div>
        <div *ngIf="toShow.length==0">
          Aucune propriété trouvée
        </div>

        

      </div>
    </div>

  </div>

</section>
<app-footer></app-footer>